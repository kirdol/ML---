<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>eda</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="EDA_files/libs/clipboard/clipboard.min.js"></script>
<script src="EDA_files/libs/quarto-html/quarto.js"></script>
<script src="EDA_files/libs/quarto-html/popper.min.js"></script>
<script src="EDA_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="EDA_files/libs/quarto-html/anchor.min.js"></script>
<link href="EDA_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="EDA_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="EDA_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="EDA_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="EDA_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="EDA_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="EDA_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="EDA_files/libs/datatables-binding-0.33/datatables.js"></script>
<script src="EDA_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="EDA_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="EDA_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="EDA_files/libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="EDA_files/libs/dt-plugin-searchhighlight-1.13.6/source.css" rel="stylesheet">
<script src="EDA_files/libs/dt-plugin-searchhighlight-1.13.6/jquery.highlight.js"></script>
<script src="EDA_files/libs/dt-plugin-searchhighlight-1.13.6/source.min.js"></script>
<link href="EDA_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="EDA_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">




<p>EDA:</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning in fun(libname, pkgname): couldn't connect to display ":0"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DataExplorer)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       ID          Model.Year       Make              Model          
 Min.   :    1   Min.   :1984   Length:45896       Length:45896      
 1st Qu.:11475   1st Qu.:1992   Class :character   Class :character  
 Median :23090   Median :2005   Mode  :character   Mode  :character  
 Mean   :23102   Mean   :2004                                        
 3rd Qu.:34751   3rd Qu.:2015                                        
 Max.   :46332   Max.   :2023                                        
 Estimated.Annual.Petrolum.Consumption..Barrels. Fuel.Type.1       
 Min.   : 0.04708                                Length:45896      
 1st Qu.:12.93522                                Class :character  
 Median :14.87550                                Mode  :character  
 Mean   :15.32811                                                  
 3rd Qu.:17.50059                                                  
 Max.   :42.50143                                                  
 City.MPG..Fuel.Type.1. Highway.MPG..Fuel.Type.1. Combined.MPG..Fuel.Type.1.
 Min.   :  6.00         Min.   :  9.00            Min.   :  7.00            
 1st Qu.: 15.00         1st Qu.: 20.00            1st Qu.: 17.00            
 Median : 17.00         Median : 24.00            Median : 20.00            
 Mean   : 19.11         Mean   : 25.16            Mean   : 21.33            
 3rd Qu.: 21.00         3rd Qu.: 28.00            3rd Qu.: 23.00            
 Max.   :150.00         Max.   :140.00            Max.   :142.00            
 Fuel.Type.2        City.MPG..Fuel.Type.2. Highway.MPG..Fuel.Type.2.
 Length:45896       Min.   :  0.0000       Min.   :  0.0000         
 Class :character   1st Qu.:  0.0000       1st Qu.:  0.0000         
 Mode  :character   Median :  0.0000       Median :  0.0000         
                    Mean   :  0.8484       Mean   :  0.9975         
                    3rd Qu.:  0.0000       3rd Qu.:  0.0000         
                    Max.   :145.0000       Max.   :121.0000         
 Combined.MPG..Fuel.Type.2. Engine.Cylinders   Engine.Displacement
 Min.   :  0.0000           Length:45896       Length:45896       
 1st Qu.:  0.0000           Class :character   Class :character   
 Median :  0.0000           Mode  :character   Mode  :character   
 Mean   :  0.9017                                                 
 3rd Qu.:  0.0000                                                 
 Max.   :133.0000                                                 
    Drive           Engine.Description Transmission       Vehicle.Class     
 Length:45896       Length:45896       Length:45896       Length:45896      
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
                                                                            
                                                                            
                                                                            
 Time.to.Charge.EV..hours.at.120v. Time.to.Charge.EV..hours.at.240v.
 Min.   :0                         Min.   : 0.0000                  
 1st Qu.:0                         1st Qu.: 0.0000                  
 Median :0                         Median : 0.0000                  
 Mean   :0                         Mean   : 0.1143                  
 3rd Qu.:0                         3rd Qu.: 0.0000                  
 Max.   :0                         Max.   :15.3000                  
 Range..for.EV.    City.Range..for.EV...Fuel.Type.1.
 Min.   :  0.000   Min.   :  0.000                  
 1st Qu.:  0.000   1st Qu.:  0.000                  
 Median :  0.000   Median :  0.000                  
 Mean   :  2.362   Mean   :  1.618                  
 3rd Qu.:  0.000   3rd Qu.:  0.000                  
 Max.   :520.000   Max.   :520.800                  
 City.Range..for.EV...Fuel.Type.2. Hwy.Range..for.EV...Fuel.Type.1.
 Min.   :  0.0000                  Min.   :  0.000                 
 1st Qu.:  0.0000                  1st Qu.:  0.000                 
 Median :  0.0000                  Median :  0.000                 
 Mean   :  0.1724                  Mean   :  1.508                 
 3rd Qu.:  0.0000                  3rd Qu.:  0.000                 
 Max.   :135.2800                  Max.   :520.500                 
 Hwy.Range..for.EV...Fuel.Type.2.
 Min.   :  0.0000                
 1st Qu.:  0.0000                
 Median :  0.0000                
 Mean   :  0.1615                
 3rd Qu.:  0.0000                
 Max.   :114.7600                </code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_histogram</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EDA_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_correlation</span>(data) <span class="co">#drop time charge EV 120V</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>6 features with more than 20 categories ignored!
Make: 141 categories
Model: 4762 categories
Engine.Displacement: 68 categories
Engine.Description: 590 categories
Transmission: 41 categories
Vehicle.Class: 34 categories</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in cor(x = structure(list(ID = c(1L, 2L, 3L, 4L, 5L, 6L, 7L, 8L, : the
standard deviation is zero</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">create_report</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>

processing file: report.rmd</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
  |                                           
  |                                     |   0%
  |                                           
  |.                                    |   2%                                 
  |                                           
  |..                                   |   5% [global_options]                
  |                                           
  |...                                  |   7%                                 
  |                                           
  |....                                 |  10% [introduce]                     
  |                                           
  |....                                 |  12%                                 
  |                                           
  |.....                                |  14% [plot_intro]                    
  |                                           
  |......                               |  17%                                 
  |                                           
  |.......                              |  19% [data_structure]                
  |                                           
  |........                             |  21%                                 
  |                                           
  |.........                            |  24% [missing_profile]               
  |                                           
  |..........                           |  26%                                 
  |                                           
  |...........                          |  29% [univariate_distribution_header]
  |                                           
  |...........                          |  31%                                 
  |                                           
  |............                         |  33% [plot_histogram]                
  |                                           
  |.............                        |  36%                                 
  |                                           
  |..............                       |  38% [plot_density]                  
  |                                           
  |...............                      |  40%                                 
  |                                           
  |................                     |  43% [plot_frequency_bar]            
  |                                           
  |.................                    |  45%                                 
  |                                           
  |..................                   |  48% [plot_response_bar]             
  |                                           
  |..................                   |  50%                                 
  |                                           
  |...................                  |  52% [plot_with_bar]                 
  |                                           
  |....................                 |  55%                                 
  |                                           
  |.....................                |  57% [plot_normal_qq]                
  |                                           
  |......................               |  60%                                 
  |                                           
  |.......................              |  62% [plot_response_qq]              
  |                                           
  |........................             |  64%                                 
  |                                           
  |.........................            |  67% [plot_by_qq]                    
  |                                           
  |..........................           |  69%                                 
  |                                           
  |..........................           |  71% [correlation_analysis]          
  |                                           
  |...........................          |  74%                                 
  |                                           
  |............................         |  76% [principal_component_analysis]  
  |                                           
  |.............................        |  79%                                 
  |                                           
  |..............................       |  81% [bivariate_distribution_header] 
  |                                           
  |...............................      |  83%                                 
  |                                           
  |................................     |  86% [plot_response_boxplot]         
  |                                           
  |.................................    |  88%                                 
  |                                           
  |.................................    |  90% [plot_by_boxplot]               
  |                                           
  |..................................   |  93%                                 
  |                                           
  |...................................  |  95% [plot_response_scatterplot]     
  |                                           
  |.................................... |  98%                                 
  |                                           
  |.....................................| 100% [plot_by_scatterplot]           
                                                                                                                           </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>output file: /Users/stefanfavre/Documents/GitHub/ML_Project/report/sections/report.knit.md</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>/Applications/RStudio.app/Contents/Resources/app/quarto/bin/tools/aarch64/pandoc +RTS -K512m -RTS /Users/stefanfavre/Documents/GitHub/ML_Project/report/sections/report.knit.md --to html4 --from markdown+autolink_bare_uris+tex_math_single_backslash --output /Users/stefanfavre/Documents/GitHub/ML_Project/report/sections/report.html --lua-filter /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/rmarkdown/rmarkdown/lua/pagebreak.lua --lua-filter /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/rmarkdown/rmarkdown/lua/latex-div.lua --embed-resources --standalone --variable bs3=TRUE --section-divs --table-of-contents --toc-depth 6 --template /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library/rmarkdown/rmd/h/default.html --no-highlight --variable highlightjs=1 --variable theme=yeti --mathjax --variable 'mathjax-url=https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML' --include-in-header /var/folders/jx/1hdvc4j5033f_zgtfpc2_t0r0000gn/T//Rtmpqqa15E/rmarkdown-str10df71db7255.html </code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Output created: report.html</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EDA_files/figure-html/unnamed-chunk-1-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#nb cars per brand</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>number of models per make</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Number of occurences/model per make </span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>nb_model_per_make <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Make, Model) <span class="sc">%&gt;%</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Number =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">'drop'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Make) <span class="sc">%&gt;%</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Models_Per_Make =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">'drop'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Models_Per_Make))</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="co">#table</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(nb_model_per_make,</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>          <span class="at">rownames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>          <span class="at">options =</span> <span class="fu">list</span>(<span class="at">pageLength =</span> <span class="dv">10</span>,</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>                         <span class="at">class =</span> <span class="st">"hover"</span>,</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>                         <span class="at">searchHighlight =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-143cfc4b9f59a78276ac" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-143cfc4b9f59a78276ac">{"x":{"filter":"none","vertical":false,"data":[["Mercedes-Benz","BMW","Chevrolet","Ford","Porsche","GMC","Audi","Toyota","Nissan","Dodge","Volvo","Jaguar","Lexus","Hyundai","Volkswagen","Infiniti","Cadillac","Mazda","Ferrari","Jeep","Suzuki","Subaru","Kia","Honda","Land Rover","Tesla","Chrysler","Pontiac","Maserati","Mitsubishi","Rolls-Royce","Mercury","MINI","Acura","Buick","Lincoln","Aston Martin","Lamborghini","Isuzu","Oldsmobile","Bentley","McLaren Automotive","Saab","Plymouth","Saturn","J.K. Motors","Roush Performance","Wallace Environmental","Geo","Lucid","Federal Coach","Genesis","Alfa Romeo","Import Trade Services","Eagle","Lotus","Ram","Renault","Fiat","Scion","Daewoo","Peugeot","Rivian","smart","CX Automotive","Spyker","Maybach","Polestar","Tecstar, LP","Bugatti","AM General","American Motors Corporation","Karma","Kenyon Corporation Of America","Mcevoy Motors","TVR Engineering Ltd","Texas Coach Company","Yugo","Dacia","Daihatsu","Pagani","RUF Automobile","Saleen","Saleen Performance","Autokraft Limited","Azure Dynamics","BMW Alpina","Bill Dovell Motor Car Company","Bitter Gmbh and Co. Kg","Evans Automobiles","Hummer","Koenigsegg","Merkur","Mobility Ventures LLC","PAS Inc - GMC","PAS, Inc","Sterling","VPG","Vector","ASC Incorporated","Aurora Cars Ltd","Avanti Motor Corporation","BYD","Bertone","CCC Engineering","CODA Automotive","Consulier Industries Inc","Dabryan Coach Builders Inc","E. P. Dutton, Inc.","Environmental Rsch and Devp Corp","Excalibur Autos","Fisker","General Motors","Goldacre","Grumman Allied Industries","Grumman Olson","Import Foreign Auto Sales Inc","Isis Imports Ltd","JBA Motorcars, Inc.","Kandi","Laforza Automobile Inc","Lambda Control Systems","London Coach Co Inc","London Taxi","Mahindra","Morgan","Panos","Panoz Auto-Development","Panther Car Company Limited","Pininfarina","Quantum Technologies","Qvale","Red Shift Ltd.","Ruf Automobile Gmbh","S and S Coach Company  E.p. Dutton","SRT","STI","Shelby","Superior Coaches Div E.p. Dutton","Vixen Motor Company","Volga Associated Automobile"],[420,416,268,261,191,169,159,151,133,121,121,105,99,96,91,87,82,82,78,77,77,76,74,67,67,66,64,60,56,56,54,51,50,49,49,45,40,38,36,35,29,27,27,23,23,21,19,18,15,15,14,13,12,12,10,10,10,10,9,9,8,8,8,8,7,7,6,6,6,5,4,4,4,4,4,4,4,4,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>Make<\/th>\n      <th>Models_Per_Make<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"class":"hover","searchHighlight":true,"columnDefs":[{"className":"dt-right","targets":1},{"name":"Make","targets":0},{"name":"Models_Per_Make","targets":1}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reordering the Make variable within the plotting code to make it ordered by Models_Per_Make descending</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>nb_model_per_make<span class="sc">$</span>Make <span class="ot">&lt;-</span> <span class="fu">factor</span>(nb_model_per_make<span class="sc">$</span>Make, <span class="at">levels =</span> nb_model_per_make<span class="sc">$</span>Make[<span class="fu">order</span>(<span class="sc">-</span>nb_model_per_make<span class="sc">$</span>Models_Per_Make)])</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Bar Plot</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(nb_model_per_make, <span class="fu">aes</span>(<span class="at">x =</span> Models_Per_Make, <span class="at">y =</span> Make, <span class="at">fill =</span> Make)) <span class="sc">+</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Bar Plot of Models per Make"</span>,</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Make"</span>,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Number of Models"</span>) <span class="sc">+</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))  <span class="co"># Rotate x labels for better visibility</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EDA_files/figure-html/unnamed-chunk-2-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Correlation matrix for numerical features</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(corrplot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>corrplot 0.92 loaded</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#select only numerical columns, drop Time.to.Charge.EV..hours.at.120v. because NAs</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>data_corrplot <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select_if</span>(is.numeric) <span class="sc">%&gt;%</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(Time.to.Charge.EV..hours.at<span class="fl">.120</span>v.))</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="co">#correlation transformation for plot</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>cor_matrix <span class="ot">&lt;-</span> <span class="fu">cor</span>(data_corrplot, <span class="at">use =</span> <span class="st">"complete.obs"</span>)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(cor_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                                         ID  Model.Year
ID                                               1.00000000  0.89987774
Model.Year                                       0.89987774  1.00000000
Estimated.Annual.Petrolum.Consumption..Barrels. -0.29664273 -0.30209839
City.MPG..Fuel.Type.1.                           0.23805592  0.22361711
Highway.MPG..Fuel.Type.1.                        0.28454168  0.28269113
Combined.MPG..Fuel.Type.1.                       0.25773498  0.24716319
City.MPG..Fuel.Type.2.                           0.13129336  0.13119185
Highway.MPG..Fuel.Type.2.                        0.14260679  0.14439681
Combined.MPG..Fuel.Type.2.                       0.13652649  0.13716197
Time.to.Charge.EV..hours.at.240v.                0.16146523  0.15114973
Range..for.EV.                                   0.13823166  0.12829668
City.Range..for.EV...Fuel.Type.1.                0.10740003  0.10041723
City.Range..for.EV...Fuel.Type.2.                0.08581501  0.08116042
Hwy.Range..for.EV...Fuel.Type.1.                 0.10568491  0.09881376
Hwy.Range..for.EV...Fuel.Type.2.                 0.08941268  0.08453359
                                                Estimated.Annual.Petrolum.Consumption..Barrels.
ID                                                                                   -0.2966427
Model.Year                                                                           -0.3020984
Estimated.Annual.Petrolum.Consumption..Barrels.                                       1.0000000
City.MPG..Fuel.Type.1.                                                               -0.7089584
Highway.MPG..Fuel.Type.1.                                                            -0.8079242
Combined.MPG..Fuel.Type.1.                                                           -0.7576990
City.MPG..Fuel.Type.2.                                                               -0.1524980
Highway.MPG..Fuel.Type.2.                                                            -0.1377325
Combined.MPG..Fuel.Type.2.                                                           -0.1473145
Time.to.Charge.EV..hours.at.240v.                                                    -0.3716804
Range..for.EV.                                                                       -0.3325076
City.Range..for.EV...Fuel.Type.1.                                                    -0.2723553
City.Range..for.EV...Fuel.Type.2.                                                    -0.1585631
Hwy.Range..for.EV...Fuel.Type.1.                                                     -0.2692831
Hwy.Range..for.EV...Fuel.Type.2.                                                     -0.1621287
                                                City.MPG..Fuel.Type.1.
ID                                                          0.23805592
Model.Year                                                  0.22361711
Estimated.Annual.Petrolum.Consumption..Barrels.            -0.70895843
City.MPG..Fuel.Type.1.                                      1.00000000
Highway.MPG..Fuel.Type.1.                                   0.95589897
Combined.MPG..Fuel.Type.1.                                  0.99310560
City.MPG..Fuel.Type.2.                                      0.07299688
Highway.MPG..Fuel.Type.2.                                   0.05854935
Combined.MPG..Fuel.Type.2.                                  0.06732485
Time.to.Charge.EV..hours.at.240v.                           0.76541371
Range..for.EV.                                              0.77087725
City.Range..for.EV...Fuel.Type.1.                           0.65926212
City.Range..for.EV...Fuel.Type.2.                           0.07172557
Hwy.Range..for.EV...Fuel.Type.1.                            0.64376604
Hwy.Range..for.EV...Fuel.Type.2.                            0.07054797
                                                Highway.MPG..Fuel.Type.1.
ID                                                             0.28454168
Model.Year                                                     0.28269113
Estimated.Annual.Petrolum.Consumption..Barrels.               -0.80792424
City.MPG..Fuel.Type.1.                                         0.95589897
Highway.MPG..Fuel.Type.1.                                      1.00000000
Combined.MPG..Fuel.Type.1.                                     0.98158742
City.MPG..Fuel.Type.2.                                         0.04672765
Highway.MPG..Fuel.Type.2.                                      0.03623841
Combined.MPG..Fuel.Type.2.                                     0.04255375
Time.to.Charge.EV..hours.at.240v.                              0.69798517
Range..for.EV.                                                 0.70972694
City.Range..for.EV...Fuel.Type.1.                              0.60545000
City.Range..for.EV...Fuel.Type.2.                              0.04629017
Hwy.Range..for.EV...Fuel.Type.1.                               0.59818198
Hwy.Range..for.EV...Fuel.Type.2.                               0.04552763
                                                Combined.MPG..Fuel.Type.1.
ID                                                              0.25773498
Model.Year                                                      0.24716319
Estimated.Annual.Petrolum.Consumption..Barrels.                -0.75769901
City.MPG..Fuel.Type.1.                                          0.99310560
Highway.MPG..Fuel.Type.1.                                       0.98158742
Combined.MPG..Fuel.Type.1.                                      1.00000000
City.MPG..Fuel.Type.2.                                          0.06479381
Highway.MPG..Fuel.Type.2.                                       0.05148402
Combined.MPG..Fuel.Type.2.                                      0.05955992
Time.to.Charge.EV..hours.at.240v.                               0.74791452
Range..for.EV.                                                  0.75555250
City.Range..for.EV...Fuel.Type.1.                               0.64527491
City.Range..for.EV...Fuel.Type.2.                               0.06443282
Hwy.Range..for.EV...Fuel.Type.1.                                0.63346295
Hwy.Range..for.EV...Fuel.Type.2.                                0.06344693
                                                City.MPG..Fuel.Type.2.
ID                                                          0.13129336
Model.Year                                                  0.13119185
Estimated.Annual.Petrolum.Consumption..Barrels.            -0.15249802
City.MPG..Fuel.Type.1.                                      0.07299688
Highway.MPG..Fuel.Type.1.                                   0.04672765
Combined.MPG..Fuel.Type.1.                                  0.06479381
City.MPG..Fuel.Type.2.                                      1.00000000
Highway.MPG..Fuel.Type.2.                                   0.98322859
Combined.MPG..Fuel.Type.2.                                  0.99700084
Time.to.Charge.EV..hours.at.240v.                           0.20550669
Range..for.EV.                                             -0.01240414
City.Range..for.EV...Fuel.Type.1.                          -0.01015788
City.Range..for.EV...Fuel.Type.2.                           0.79927685
Hwy.Range..for.EV...Fuel.Type.1.                           -0.01004360
Hwy.Range..for.EV...Fuel.Type.2.                            0.81001852
                                                Highway.MPG..Fuel.Type.2.
ID                                                             0.14260679
Model.Year                                                     0.14439681
Estimated.Annual.Petrolum.Consumption..Barrels.               -0.13773247
City.MPG..Fuel.Type.1.                                         0.05854935
Highway.MPG..Fuel.Type.1.                                      0.03623841
Combined.MPG..Fuel.Type.1.                                     0.05148402
City.MPG..Fuel.Type.2.                                         0.98322859
Highway.MPG..Fuel.Type.2.                                      1.00000000
Combined.MPG..Fuel.Type.2.                                     0.99419306
Time.to.Charge.EV..hours.at.240v.                              0.19544733
Range..for.EV.                                                -0.01439981
City.Range..for.EV...Fuel.Type.1.                             -0.01179216
City.Range..for.EV...Fuel.Type.2.                              0.73916026
Hwy.Range..for.EV...Fuel.Type.1.                              -0.01165949
Hwy.Range..for.EV...Fuel.Type.2.                               0.75598786
                                                Combined.MPG..Fuel.Type.2.
ID                                                              0.13652649
Model.Year                                                      0.13716197
Estimated.Annual.Petrolum.Consumption..Barrels.                -0.14731450
City.MPG..Fuel.Type.1.                                          0.06732485
Highway.MPG..Fuel.Type.1.                                       0.04255375
Combined.MPG..Fuel.Type.1.                                      0.05955992
City.MPG..Fuel.Type.2.                                          0.99700084
Highway.MPG..Fuel.Type.2.                                       0.99419306
Combined.MPG..Fuel.Type.2.                                      1.00000000
Time.to.Charge.EV..hours.at.240v.                               0.20266053
Range..for.EV.                                                 -0.01326076
City.Range..for.EV...Fuel.Type.1.                              -0.01085938
City.Range..for.EV...Fuel.Type.2.                               0.77760719
Hwy.Range..for.EV...Fuel.Type.1.                               -0.01073720
Hwy.Range..for.EV...Fuel.Type.2.                                0.79135159
                                                Time.to.Charge.EV..hours.at.240v.
ID                                                                      0.1614652
Model.Year                                                              0.1511497
Estimated.Annual.Petrolum.Consumption..Barrels.                        -0.3716804
City.MPG..Fuel.Type.1.                                                  0.7654137
Highway.MPG..Fuel.Type.1.                                               0.6979852
Combined.MPG..Fuel.Type.1.                                              0.7479145
City.MPG..Fuel.Type.2.                                                  0.2055067
Highway.MPG..Fuel.Type.2.                                               0.1954473
Combined.MPG..Fuel.Type.2.                                              0.2026605
Time.to.Charge.EV..hours.at.240v.                                       1.0000000
Range..for.EV.                                                          0.9381108
City.Range..for.EV...Fuel.Type.1.                                       0.7645547
City.Range..for.EV...Fuel.Type.2.                                       0.2252672
Hwy.Range..for.EV...Fuel.Type.1.                                        0.7666908
Hwy.Range..for.EV...Fuel.Type.2.                                        0.2323011
                                                Range..for.EV.
ID                                                 0.138231662
Model.Year                                         0.128296678
Estimated.Annual.Petrolum.Consumption..Barrels.   -0.332507621
City.MPG..Fuel.Type.1.                             0.770877249
Highway.MPG..Fuel.Type.1.                          0.709726940
Combined.MPG..Fuel.Type.1.                         0.755552503
City.MPG..Fuel.Type.2.                            -0.012404140
Highway.MPG..Fuel.Type.2.                         -0.014399810
Combined.MPG..Fuel.Type.2.                        -0.013260759
Time.to.Charge.EV..hours.at.240v.                  0.938110796
Range..for.EV.                                     1.000000000
City.Range..for.EV...Fuel.Type.1.                  0.810718663
City.Range..for.EV...Fuel.Type.2.                 -0.005969840
Hwy.Range..for.EV...Fuel.Type.1.                   0.810212189
Hwy.Range..for.EV...Fuel.Type.2.                  -0.006202132
                                                City.Range..for.EV...Fuel.Type.1.
ID                                                                    0.107400033
Model.Year                                                            0.100417231
Estimated.Annual.Petrolum.Consumption..Barrels.                      -0.272355330
City.MPG..Fuel.Type.1.                                                0.659262124
Highway.MPG..Fuel.Type.1.                                             0.605450004
Combined.MPG..Fuel.Type.1.                                            0.645274909
City.MPG..Fuel.Type.2.                                               -0.010157881
Highway.MPG..Fuel.Type.2.                                            -0.011792156
Combined.MPG..Fuel.Type.2.                                           -0.010859376
Time.to.Charge.EV..hours.at.240v.                                     0.764554659
Range..for.EV.                                                        0.810718663
City.Range..for.EV...Fuel.Type.1.                                     1.000000000
City.Range..for.EV...Fuel.Type.2.                                    -0.004888765
Hwy.Range..for.EV...Fuel.Type.1.                                      0.995672943
Hwy.Range..for.EV...Fuel.Type.2.                                     -0.005078991
                                                City.Range..for.EV...Fuel.Type.2.
ID                                                                    0.085815009
Model.Year                                                            0.081160416
Estimated.Annual.Petrolum.Consumption..Barrels.                      -0.158563094
City.MPG..Fuel.Type.1.                                                0.071725571
Highway.MPG..Fuel.Type.1.                                             0.046290172
Combined.MPG..Fuel.Type.1.                                            0.064432821
City.MPG..Fuel.Type.2.                                                0.799276846
Highway.MPG..Fuel.Type.2.                                             0.739160264
Combined.MPG..Fuel.Type.2.                                            0.777607185
Time.to.Charge.EV..hours.at.240v.                                     0.225267176
Range..for.EV.                                                       -0.005969840
City.Range..for.EV...Fuel.Type.1.                                    -0.004888765
City.Range..for.EV...Fuel.Type.2.                                     1.000000000
Hwy.Range..for.EV...Fuel.Type.1.                                     -0.004833764
Hwy.Range..for.EV...Fuel.Type.2.                                      0.996018747
                                                Hwy.Range..for.EV...Fuel.Type.1.
ID                                                                   0.105684913
Model.Year                                                           0.098813756
Estimated.Annual.Petrolum.Consumption..Barrels.                     -0.269283115
City.MPG..Fuel.Type.1.                                               0.643766039
Highway.MPG..Fuel.Type.1.                                            0.598181981
Combined.MPG..Fuel.Type.1.                                           0.633462946
City.MPG..Fuel.Type.2.                                              -0.010043601
Highway.MPG..Fuel.Type.2.                                           -0.011659489
Combined.MPG..Fuel.Type.2.                                          -0.010737203
Time.to.Charge.EV..hours.at.240v.                                    0.766690812
Range..for.EV.                                                       0.810212189
City.Range..for.EV...Fuel.Type.1.                                    0.995672943
City.Range..for.EV...Fuel.Type.2.                                   -0.004833764
Hwy.Range..for.EV...Fuel.Type.1.                                     1.000000000
Hwy.Range..for.EV...Fuel.Type.2.                                    -0.005021851
                                                Hwy.Range..for.EV...Fuel.Type.2.
ID                                                                   0.089412677
Model.Year                                                           0.084533587
Estimated.Annual.Petrolum.Consumption..Barrels.                     -0.162128701
City.MPG..Fuel.Type.1.                                               0.070547970
Highway.MPG..Fuel.Type.1.                                            0.045527631
Combined.MPG..Fuel.Type.1.                                           0.063446926
City.MPG..Fuel.Type.2.                                               0.810018517
Highway.MPG..Fuel.Type.2.                                            0.755987864
Combined.MPG..Fuel.Type.2.                                           0.791351587
Time.to.Charge.EV..hours.at.240v.                                    0.232301117
Range..for.EV.                                                      -0.006202132
City.Range..for.EV...Fuel.Type.1.                                   -0.005078991
City.Range..for.EV...Fuel.Type.2.                                    0.996018747
Hwy.Range..for.EV...Fuel.Type.1.                                    -0.005021851
Hwy.Range..for.EV...Fuel.Type.2.                                     1.000000000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(cor_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 10%">
<col style="width: 2%">
<col style="width: 2%">
<col style="width: 10%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 7%">
<col style="width: 3%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">ID</th>
<th style="text-align: right;">Model.Year</th>
<th style="text-align: right;">Estimated.Annual.Petrolum.Consumption..Barrels.</th>
<th style="text-align: right;">City.MPG..Fuel.Type.1.</th>
<th style="text-align: right;">Highway.MPG..Fuel.Type.1.</th>
<th style="text-align: right;">Combined.MPG..Fuel.Type.1.</th>
<th style="text-align: right;">City.MPG..Fuel.Type.2.</th>
<th style="text-align: right;">Highway.MPG..Fuel.Type.2.</th>
<th style="text-align: right;">Combined.MPG..Fuel.Type.2.</th>
<th style="text-align: right;">Time.to.Charge.EV..hours.at.240v.</th>
<th style="text-align: right;">Range..for.EV.</th>
<th style="text-align: right;">City.Range..for.EV…Fuel.Type.1.</th>
<th style="text-align: right;">City.Range..for.EV…Fuel.Type.2.</th>
<th style="text-align: right;">Hwy.Range..for.EV…Fuel.Type.1.</th>
<th style="text-align: right;">Hwy.Range..for.EV…Fuel.Type.2.</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">ID</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.8998777</td>
<td style="text-align: right;">-0.2966427</td>
<td style="text-align: right;">0.2380559</td>
<td style="text-align: right;">0.2845417</td>
<td style="text-align: right;">0.2577350</td>
<td style="text-align: right;">0.1312934</td>
<td style="text-align: right;">0.1426068</td>
<td style="text-align: right;">0.1365265</td>
<td style="text-align: right;">0.1614652</td>
<td style="text-align: right;">0.1382317</td>
<td style="text-align: right;">0.1074000</td>
<td style="text-align: right;">0.0858150</td>
<td style="text-align: right;">0.1056849</td>
<td style="text-align: right;">0.0894127</td>
</tr>
<tr class="even">
<td style="text-align: left;">Model.Year</td>
<td style="text-align: right;">0.8998777</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">-0.3020984</td>
<td style="text-align: right;">0.2236171</td>
<td style="text-align: right;">0.2826911</td>
<td style="text-align: right;">0.2471632</td>
<td style="text-align: right;">0.1311919</td>
<td style="text-align: right;">0.1443968</td>
<td style="text-align: right;">0.1371620</td>
<td style="text-align: right;">0.1511497</td>
<td style="text-align: right;">0.1282967</td>
<td style="text-align: right;">0.1004172</td>
<td style="text-align: right;">0.0811604</td>
<td style="text-align: right;">0.0988138</td>
<td style="text-align: right;">0.0845336</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Estimated.Annual.Petrolum.Consumption..Barrels.</td>
<td style="text-align: right;">-0.2966427</td>
<td style="text-align: right;">-0.3020984</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">-0.7089584</td>
<td style="text-align: right;">-0.8079242</td>
<td style="text-align: right;">-0.7576990</td>
<td style="text-align: right;">-0.1524980</td>
<td style="text-align: right;">-0.1377325</td>
<td style="text-align: right;">-0.1473145</td>
<td style="text-align: right;">-0.3716804</td>
<td style="text-align: right;">-0.3325076</td>
<td style="text-align: right;">-0.2723553</td>
<td style="text-align: right;">-0.1585631</td>
<td style="text-align: right;">-0.2692831</td>
<td style="text-align: right;">-0.1621287</td>
</tr>
<tr class="even">
<td style="text-align: left;">City.MPG..Fuel.Type.1.</td>
<td style="text-align: right;">0.2380559</td>
<td style="text-align: right;">0.2236171</td>
<td style="text-align: right;">-0.7089584</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.9558990</td>
<td style="text-align: right;">0.9931056</td>
<td style="text-align: right;">0.0729969</td>
<td style="text-align: right;">0.0585493</td>
<td style="text-align: right;">0.0673249</td>
<td style="text-align: right;">0.7654137</td>
<td style="text-align: right;">0.7708772</td>
<td style="text-align: right;">0.6592621</td>
<td style="text-align: right;">0.0717256</td>
<td style="text-align: right;">0.6437660</td>
<td style="text-align: right;">0.0705480</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Highway.MPG..Fuel.Type.1.</td>
<td style="text-align: right;">0.2845417</td>
<td style="text-align: right;">0.2826911</td>
<td style="text-align: right;">-0.8079242</td>
<td style="text-align: right;">0.9558990</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.9815874</td>
<td style="text-align: right;">0.0467277</td>
<td style="text-align: right;">0.0362384</td>
<td style="text-align: right;">0.0425538</td>
<td style="text-align: right;">0.6979852</td>
<td style="text-align: right;">0.7097269</td>
<td style="text-align: right;">0.6054500</td>
<td style="text-align: right;">0.0462902</td>
<td style="text-align: right;">0.5981820</td>
<td style="text-align: right;">0.0455276</td>
</tr>
<tr class="even">
<td style="text-align: left;">Combined.MPG..Fuel.Type.1.</td>
<td style="text-align: right;">0.2577350</td>
<td style="text-align: right;">0.2471632</td>
<td style="text-align: right;">-0.7576990</td>
<td style="text-align: right;">0.9931056</td>
<td style="text-align: right;">0.9815874</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.0647938</td>
<td style="text-align: right;">0.0514840</td>
<td style="text-align: right;">0.0595599</td>
<td style="text-align: right;">0.7479145</td>
<td style="text-align: right;">0.7555525</td>
<td style="text-align: right;">0.6452749</td>
<td style="text-align: right;">0.0644328</td>
<td style="text-align: right;">0.6334629</td>
<td style="text-align: right;">0.0634469</td>
</tr>
<tr class="odd">
<td style="text-align: left;">City.MPG..Fuel.Type.2.</td>
<td style="text-align: right;">0.1312934</td>
<td style="text-align: right;">0.1311919</td>
<td style="text-align: right;">-0.1524980</td>
<td style="text-align: right;">0.0729969</td>
<td style="text-align: right;">0.0467277</td>
<td style="text-align: right;">0.0647938</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.9832286</td>
<td style="text-align: right;">0.9970008</td>
<td style="text-align: right;">0.2055067</td>
<td style="text-align: right;">-0.0124041</td>
<td style="text-align: right;">-0.0101579</td>
<td style="text-align: right;">0.7992768</td>
<td style="text-align: right;">-0.0100436</td>
<td style="text-align: right;">0.8100185</td>
</tr>
<tr class="even">
<td style="text-align: left;">Highway.MPG..Fuel.Type.2.</td>
<td style="text-align: right;">0.1426068</td>
<td style="text-align: right;">0.1443968</td>
<td style="text-align: right;">-0.1377325</td>
<td style="text-align: right;">0.0585493</td>
<td style="text-align: right;">0.0362384</td>
<td style="text-align: right;">0.0514840</td>
<td style="text-align: right;">0.9832286</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.9941931</td>
<td style="text-align: right;">0.1954473</td>
<td style="text-align: right;">-0.0143998</td>
<td style="text-align: right;">-0.0117922</td>
<td style="text-align: right;">0.7391603</td>
<td style="text-align: right;">-0.0116595</td>
<td style="text-align: right;">0.7559879</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Combined.MPG..Fuel.Type.2.</td>
<td style="text-align: right;">0.1365265</td>
<td style="text-align: right;">0.1371620</td>
<td style="text-align: right;">-0.1473145</td>
<td style="text-align: right;">0.0673249</td>
<td style="text-align: right;">0.0425538</td>
<td style="text-align: right;">0.0595599</td>
<td style="text-align: right;">0.9970008</td>
<td style="text-align: right;">0.9941931</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.2026605</td>
<td style="text-align: right;">-0.0132608</td>
<td style="text-align: right;">-0.0108594</td>
<td style="text-align: right;">0.7776072</td>
<td style="text-align: right;">-0.0107372</td>
<td style="text-align: right;">0.7913516</td>
</tr>
<tr class="even">
<td style="text-align: left;">Time.to.Charge.EV..hours.at.240v.</td>
<td style="text-align: right;">0.1614652</td>
<td style="text-align: right;">0.1511497</td>
<td style="text-align: right;">-0.3716804</td>
<td style="text-align: right;">0.7654137</td>
<td style="text-align: right;">0.6979852</td>
<td style="text-align: right;">0.7479145</td>
<td style="text-align: right;">0.2055067</td>
<td style="text-align: right;">0.1954473</td>
<td style="text-align: right;">0.2026605</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.9381108</td>
<td style="text-align: right;">0.7645547</td>
<td style="text-align: right;">0.2252672</td>
<td style="text-align: right;">0.7666908</td>
<td style="text-align: right;">0.2323011</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Range..for.EV.</td>
<td style="text-align: right;">0.1382317</td>
<td style="text-align: right;">0.1282967</td>
<td style="text-align: right;">-0.3325076</td>
<td style="text-align: right;">0.7708772</td>
<td style="text-align: right;">0.7097269</td>
<td style="text-align: right;">0.7555525</td>
<td style="text-align: right;">-0.0124041</td>
<td style="text-align: right;">-0.0143998</td>
<td style="text-align: right;">-0.0132608</td>
<td style="text-align: right;">0.9381108</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">0.8107187</td>
<td style="text-align: right;">-0.0059698</td>
<td style="text-align: right;">0.8102122</td>
<td style="text-align: right;">-0.0062021</td>
</tr>
<tr class="even">
<td style="text-align: left;">City.Range..for.EV…Fuel.Type.1.</td>
<td style="text-align: right;">0.1074000</td>
<td style="text-align: right;">0.1004172</td>
<td style="text-align: right;">-0.2723553</td>
<td style="text-align: right;">0.6592621</td>
<td style="text-align: right;">0.6054500</td>
<td style="text-align: right;">0.6452749</td>
<td style="text-align: right;">-0.0101579</td>
<td style="text-align: right;">-0.0117922</td>
<td style="text-align: right;">-0.0108594</td>
<td style="text-align: right;">0.7645547</td>
<td style="text-align: right;">0.8107187</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">-0.0048888</td>
<td style="text-align: right;">0.9956729</td>
<td style="text-align: right;">-0.0050790</td>
</tr>
<tr class="odd">
<td style="text-align: left;">City.Range..for.EV…Fuel.Type.2.</td>
<td style="text-align: right;">0.0858150</td>
<td style="text-align: right;">0.0811604</td>
<td style="text-align: right;">-0.1585631</td>
<td style="text-align: right;">0.0717256</td>
<td style="text-align: right;">0.0462902</td>
<td style="text-align: right;">0.0644328</td>
<td style="text-align: right;">0.7992768</td>
<td style="text-align: right;">0.7391603</td>
<td style="text-align: right;">0.7776072</td>
<td style="text-align: right;">0.2252672</td>
<td style="text-align: right;">-0.0059698</td>
<td style="text-align: right;">-0.0048888</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">-0.0048338</td>
<td style="text-align: right;">0.9960187</td>
</tr>
<tr class="even">
<td style="text-align: left;">Hwy.Range..for.EV…Fuel.Type.1.</td>
<td style="text-align: right;">0.1056849</td>
<td style="text-align: right;">0.0988138</td>
<td style="text-align: right;">-0.2692831</td>
<td style="text-align: right;">0.6437660</td>
<td style="text-align: right;">0.5981820</td>
<td style="text-align: right;">0.6334629</td>
<td style="text-align: right;">-0.0100436</td>
<td style="text-align: right;">-0.0116595</td>
<td style="text-align: right;">-0.0107372</td>
<td style="text-align: right;">0.7666908</td>
<td style="text-align: right;">0.8102122</td>
<td style="text-align: right;">0.9956729</td>
<td style="text-align: right;">-0.0048338</td>
<td style="text-align: right;">1.0000000</td>
<td style="text-align: right;">-0.0050219</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Hwy.Range..for.EV…Fuel.Type.2.</td>
<td style="text-align: right;">0.0894127</td>
<td style="text-align: right;">0.0845336</td>
<td style="text-align: right;">-0.1621287</td>
<td style="text-align: right;">0.0705480</td>
<td style="text-align: right;">0.0455276</td>
<td style="text-align: right;">0.0634469</td>
<td style="text-align: right;">0.8100185</td>
<td style="text-align: right;">0.7559879</td>
<td style="text-align: right;">0.7913516</td>
<td style="text-align: right;">0.2323011</td>
<td style="text-align: right;">-0.0062021</td>
<td style="text-align: right;">-0.0050790</td>
<td style="text-align: right;">0.9960187</td>
<td style="text-align: right;">-0.0050219</td>
<td style="text-align: right;">1.0000000</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>cor_melted <span class="ot">&lt;-</span> <span class="fu">melt</span>(cor_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The melt generic in data.table has been passed a matrix and will
attempt to redirect to the relevant reshape2 method; please note that reshape2
is superseded and is no longer actively developed, and this redirection is now
deprecated. To continue using melt methods from reshape2 while both libraries
are attached, e.g. melt.list, you can prepend the namespace, i.e.
reshape2::melt(cor_matrix). In the next version, this warning will become an
error.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co">#plot</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> cor_melted, <span class="fu">aes</span>(Var1, Var2, <span class="at">fill =</span> value)) <span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient2</span>(<span class="at">low =</span> <span class="st">"blue"</span>, <span class="at">high =</span> <span class="st">"red"</span>, <span class="at">mid =</span> <span class="st">"white"</span>, </span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">midpoint =</span> <span class="dv">0</span>, <span class="at">limit =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="dv">1</span>), <span class="at">space =</span> <span class="st">"Lab"</span>, </span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">name=</span><span class="st">"Pearson</span><span class="sc">\n</span><span class="st">Correlation"</span>) <span class="sc">+</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">vjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">8</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_fixed</span>() <span class="sc">+</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">''</span>, <span class="at">y =</span> <span class="st">''</span>, <span class="at">title =</span> <span class="st">'Correlation Matrix Heatmap'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EDA_files/figure-html/plot.new();%20dev.off()-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>